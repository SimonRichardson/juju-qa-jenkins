# Code generated by gen-wire-tests. DO NOT EDIT.
- job:
    name: "test-authorized_keys-multijob"
    project-type: "multijob"
    description: |-
      Test authorized_keys Suite
    condition: SUCCESSFUL
    node: noop-parent-jobs
    concurrent: true
    wrappers:
      - ansicolor
      - workspace-cleanup
      - timestamps
    parameters:
      - string:
          default: ""
          description: "Enable sub job to be run individually."
          name: SHORT_GIT_COMMIT
      - string:
          default: ""
          description: "Build arch used to download the build tar.gz."
          name: BUILD_ARCH
    builders:
      - get-s3-build-details
      - set-test-description
      - multijob:
          name: "IntegrationTests-authorized_keys"
          projects:
            - name: "test-authorized_keys-test-bootstrap-authorized-keys-aws"
              current-parameters: true
            - name: "test-authorized_keys-test-bootstrap-authorized-keys-azure"
              current-parameters: true
            - name: "test-authorized_keys-test-bootstrap-authorized-keys-google"
              current-parameters: true
            - name: "test-authorized_keys-test-bootstrap-authorized-keys-lxd"
              current-parameters: true
            - name: "test-authorized_keys-test-machine-ssh-aws"
              current-parameters: true
            - name: "test-authorized_keys-test-machine-ssh-azure"
              current-parameters: true
            - name: "test-authorized_keys-test-machine-ssh-google"
              current-parameters: true
            - name: "test-authorized_keys-test-machine-ssh-lxd"
              current-parameters: true
            - name: "test-authorized_keys-test-migrate-authorized-keys-aws"
              current-parameters: true
            - name: "test-authorized_keys-test-migrate-authorized-keys-azure"
              current-parameters: true
            - name: "test-authorized_keys-test-migrate-authorized-keys-google"
              current-parameters: true
            - name: "test-authorized_keys-test-migrate-authorized-keys-lxd"
              current-parameters: true
            - name: "test-authorized_keys-test-user-ssh-keys-aws"
              current-parameters: true
            - name: "test-authorized_keys-test-user-ssh-keys-azure"
              current-parameters: true
            - name: "test-authorized_keys-test-user-ssh-keys-google"
              current-parameters: true
            - name: "test-authorized_keys-test-user-ssh-keys-lxd"
              current-parameters: true

- job:
    name: test-authorized_keys-test-bootstrap-authorized-keys-aws
    node: ephemeral-noble-small-amd64
    concurrent: true
    description: |-
      Test test_bootstrap_authorized_keys in authorized_keys suite on aws
    parameters:
      - validating-string:
          name: SHORT_GIT_COMMIT
          description: "Enable sub job to be run individually."
          regex: ^\S{{7}}$
          msg: Enter a valid 7 char git sha
      - choice:
          default: "amd64"
          description: "Build arch used to download the build tar.gz."
          name: BUILD_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used to boostrap controller."
          name: BOOTSTRAP_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used for hosted models."
          name: MODEL_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - string:
          default: "aws"
          description: "Cloud to use when bootstrapping Juju"
          name: BOOTSTRAP_CLOUD
      - string:
          default: "ec2"
          description: "Provider to use when bootstrapping Juju"
          name: BOOTSTRAP_PROVIDER
      - string:
          default: "us-east-1"
          description: "Cloud Region to use when bootstrapping Juju"
          name: BOOTSTRAP_REGION
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - common
      - select-oci-registry
      - prepare-integration-test
      - conditional-step:
          # Only run on regexp version match.
          # Accounts for tests which do not exist
          # until a given Juju version.
          condition-kind: regex-match
          regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
          label: "${{JUJU_VERSION}}"
          on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                test_name: "authorized_keys"
                setup_steps: ""
                task_name: "test_bootstrap_authorized_keys"
                skip_tasks: "test_machine_ssh,test_migrate_authorized_keys,test_user_ssh_keys"
    publishers:
      - integration-artifacts

- job:
    name: test-authorized_keys-test-bootstrap-authorized-keys-azure
    node: ephemeral-noble-small-amd64
    concurrent: true
    description: |-
      Test test_bootstrap_authorized_keys in authorized_keys suite on azure
    parameters:
      - validating-string:
          name: SHORT_GIT_COMMIT
          description: "Enable sub job to be run individually."
          regex: ^\S{{7}}$
          msg: Enter a valid 7 char git sha
      - choice:
          default: "amd64"
          description: "Build arch used to download the build tar.gz."
          name: BUILD_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used to boostrap controller."
          name: BOOTSTRAP_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used for hosted models."
          name: MODEL_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - string:
          default: "azure"
          description: "Cloud to use when bootstrapping Juju"
          name: BOOTSTRAP_CLOUD
      - string:
          default: "azure"
          description: "Provider to use when bootstrapping Juju"
          name: BOOTSTRAP_PROVIDER
      - string:
          default: "eastus"
          description: "Cloud Region to use when bootstrapping Juju"
          name: BOOTSTRAP_REGION
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - common
      - select-oci-registry
      - prepare-integration-test
      - conditional-step:
          # Only run on regexp version match.
          # Accounts for tests which do not exist
          # until a given Juju version.
          condition-kind: regex-match
          regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
          label: "${{JUJU_VERSION}}"
          on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                test_name: "authorized_keys"
                setup_steps: ""
                task_name: "test_bootstrap_authorized_keys"
                skip_tasks: "test_machine_ssh,test_migrate_authorized_keys,test_user_ssh_keys"
    publishers:
      - integration-artifacts

- job:
    name: test-authorized_keys-test-bootstrap-authorized-keys-google
    node: ephemeral-noble-small-amd64
    concurrent: true
    description: |-
      Test test_bootstrap_authorized_keys in authorized_keys suite on google
    parameters:
      - validating-string:
          name: SHORT_GIT_COMMIT
          description: "Enable sub job to be run individually."
          regex: ^\S{{7}}$
          msg: Enter a valid 7 char git sha
      - choice:
          default: "amd64"
          description: "Build arch used to download the build tar.gz."
          name: BUILD_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used to boostrap controller."
          name: BOOTSTRAP_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used for hosted models."
          name: MODEL_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - string:
          default: "google"
          description: "Cloud to use when bootstrapping Juju"
          name: BOOTSTRAP_CLOUD
      - string:
          default: "gce"
          description: "Provider to use when bootstrapping Juju"
          name: BOOTSTRAP_PROVIDER
      - string:
          default: "us-east1"
          description: "Cloud Region to use when bootstrapping Juju"
          name: BOOTSTRAP_REGION
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - common
      - select-oci-registry
      - prepare-integration-test
      - conditional-step:
          # Only run on regexp version match.
          # Accounts for tests which do not exist
          # until a given Juju version.
          condition-kind: regex-match
          regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
          label: "${{JUJU_VERSION}}"
          on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                test_name: "authorized_keys"
                setup_steps: ""
                task_name: "test_bootstrap_authorized_keys"
                skip_tasks: "test_machine_ssh,test_migrate_authorized_keys,test_user_ssh_keys"
    publishers:
      - integration-artifacts

- job:
    name: test-authorized_keys-test-bootstrap-authorized-keys-lxd
    node: ephemeral-noble-8c-32g-amd64
    concurrent: true
    description: |-
      Test test_bootstrap_authorized_keys in authorized_keys suite on lxd
    parameters:
      - validating-string:
          name: SHORT_GIT_COMMIT
          description: "Enable sub job to be run individually."
          regex: ^\S{{7}}$
          msg: Enter a valid 7 char git sha
      - choice:
          default: "amd64"
          description: "Build arch used to download the build tar.gz."
          name: BUILD_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used to boostrap controller."
          name: BOOTSTRAP_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used for hosted models."
          name: MODEL_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - string:
          default: "localhost"
          description: "Cloud to use when bootstrapping Juju"
          name: BOOTSTRAP_CLOUD
      - string:
          default: "lxd"
          description: "Provider to use when bootstrapping Juju"
          name: BOOTSTRAP_PROVIDER
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - common
      - select-oci-registry
      - prepare-integration-test
      - conditional-step:
          # Only run on regexp version match.
          # Accounts for tests which do not exist
          # until a given Juju version.
          condition-kind: regex-match
          regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
          label: "${{JUJU_VERSION}}"
          on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                test_name: "authorized_keys"
                setup_steps: ""
                task_name: "test_bootstrap_authorized_keys"
                skip_tasks: "test_machine_ssh,test_migrate_authorized_keys,test_user_ssh_keys"
    publishers:
      - integration-artifacts

- job:
    name: test-authorized_keys-test-machine-ssh-aws
    node: ephemeral-noble-small-amd64
    concurrent: true
    description: |-
      Test test_machine_ssh in authorized_keys suite on aws
    parameters:
      - validating-string:
          name: SHORT_GIT_COMMIT
          description: "Enable sub job to be run individually."
          regex: ^\S{{7}}$
          msg: Enter a valid 7 char git sha
      - choice:
          default: "amd64"
          description: "Build arch used to download the build tar.gz."
          name: BUILD_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used to boostrap controller."
          name: BOOTSTRAP_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used for hosted models."
          name: MODEL_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - string:
          default: "aws"
          description: "Cloud to use when bootstrapping Juju"
          name: BOOTSTRAP_CLOUD
      - string:
          default: "ec2"
          description: "Provider to use when bootstrapping Juju"
          name: BOOTSTRAP_PROVIDER
      - string:
          default: "us-east-1"
          description: "Cloud Region to use when bootstrapping Juju"
          name: BOOTSTRAP_REGION
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - common
      - select-oci-registry
      - prepare-integration-test
      - conditional-step:
          # Only run on regexp version match.
          # Accounts for tests which do not exist
          # until a given Juju version.
          condition-kind: regex-match
          regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
          label: "${{JUJU_VERSION}}"
          on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                test_name: "authorized_keys"
                setup_steps: ""
                task_name: "test_machine_ssh"
                skip_tasks: "test_bootstrap_authorized_keys,test_migrate_authorized_keys,test_user_ssh_keys"
    publishers:
      - integration-artifacts

- job:
    name: test-authorized_keys-test-machine-ssh-azure
    node: ephemeral-noble-small-amd64
    concurrent: true
    description: |-
      Test test_machine_ssh in authorized_keys suite on azure
    parameters:
      - validating-string:
          name: SHORT_GIT_COMMIT
          description: "Enable sub job to be run individually."
          regex: ^\S{{7}}$
          msg: Enter a valid 7 char git sha
      - choice:
          default: "amd64"
          description: "Build arch used to download the build tar.gz."
          name: BUILD_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used to boostrap controller."
          name: BOOTSTRAP_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used for hosted models."
          name: MODEL_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - string:
          default: "azure"
          description: "Cloud to use when bootstrapping Juju"
          name: BOOTSTRAP_CLOUD
      - string:
          default: "azure"
          description: "Provider to use when bootstrapping Juju"
          name: BOOTSTRAP_PROVIDER
      - string:
          default: "eastus"
          description: "Cloud Region to use when bootstrapping Juju"
          name: BOOTSTRAP_REGION
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - common
      - select-oci-registry
      - prepare-integration-test
      - conditional-step:
          # Only run on regexp version match.
          # Accounts for tests which do not exist
          # until a given Juju version.
          condition-kind: regex-match
          regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
          label: "${{JUJU_VERSION}}"
          on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                test_name: "authorized_keys"
                setup_steps: ""
                task_name: "test_machine_ssh"
                skip_tasks: "test_bootstrap_authorized_keys,test_migrate_authorized_keys,test_user_ssh_keys"
    publishers:
      - integration-artifacts

- job:
    name: test-authorized_keys-test-machine-ssh-google
    node: ephemeral-noble-small-amd64
    concurrent: true
    description: |-
      Test test_machine_ssh in authorized_keys suite on google
    parameters:
      - validating-string:
          name: SHORT_GIT_COMMIT
          description: "Enable sub job to be run individually."
          regex: ^\S{{7}}$
          msg: Enter a valid 7 char git sha
      - choice:
          default: "amd64"
          description: "Build arch used to download the build tar.gz."
          name: BUILD_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used to boostrap controller."
          name: BOOTSTRAP_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used for hosted models."
          name: MODEL_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - string:
          default: "google"
          description: "Cloud to use when bootstrapping Juju"
          name: BOOTSTRAP_CLOUD
      - string:
          default: "gce"
          description: "Provider to use when bootstrapping Juju"
          name: BOOTSTRAP_PROVIDER
      - string:
          default: "us-east1"
          description: "Cloud Region to use when bootstrapping Juju"
          name: BOOTSTRAP_REGION
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - common
      - select-oci-registry
      - prepare-integration-test
      - conditional-step:
          # Only run on regexp version match.
          # Accounts for tests which do not exist
          # until a given Juju version.
          condition-kind: regex-match
          regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
          label: "${{JUJU_VERSION}}"
          on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                test_name: "authorized_keys"
                setup_steps: ""
                task_name: "test_machine_ssh"
                skip_tasks: "test_bootstrap_authorized_keys,test_migrate_authorized_keys,test_user_ssh_keys"
    publishers:
      - integration-artifacts

- job:
    name: test-authorized_keys-test-machine-ssh-lxd
    node: ephemeral-noble-8c-32g-amd64
    concurrent: true
    description: |-
      Test test_machine_ssh in authorized_keys suite on lxd
    parameters:
      - validating-string:
          name: SHORT_GIT_COMMIT
          description: "Enable sub job to be run individually."
          regex: ^\S{{7}}$
          msg: Enter a valid 7 char git sha
      - choice:
          default: "amd64"
          description: "Build arch used to download the build tar.gz."
          name: BUILD_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used to boostrap controller."
          name: BOOTSTRAP_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used for hosted models."
          name: MODEL_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - string:
          default: "localhost"
          description: "Cloud to use when bootstrapping Juju"
          name: BOOTSTRAP_CLOUD
      - string:
          default: "lxd"
          description: "Provider to use when bootstrapping Juju"
          name: BOOTSTRAP_PROVIDER
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - common
      - select-oci-registry
      - prepare-integration-test
      - conditional-step:
          # Only run on regexp version match.
          # Accounts for tests which do not exist
          # until a given Juju version.
          condition-kind: regex-match
          regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
          label: "${{JUJU_VERSION}}"
          on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                test_name: "authorized_keys"
                setup_steps: ""
                task_name: "test_machine_ssh"
                skip_tasks: "test_bootstrap_authorized_keys,test_migrate_authorized_keys,test_user_ssh_keys"
    publishers:
      - integration-artifacts

- job:
    name: test-authorized_keys-test-migrate-authorized-keys-aws
    node: ephemeral-noble-small-amd64
    concurrent: true
    description: |-
      Test test_migrate_authorized_keys in authorized_keys suite on aws
    parameters:
      - validating-string:
          name: SHORT_GIT_COMMIT
          description: "Enable sub job to be run individually."
          regex: ^\S{{7}}$
          msg: Enter a valid 7 char git sha
      - choice:
          default: "amd64"
          description: "Build arch used to download the build tar.gz."
          name: BUILD_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used to boostrap controller."
          name: BOOTSTRAP_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used for hosted models."
          name: MODEL_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - string:
          default: "aws"
          description: "Cloud to use when bootstrapping Juju"
          name: BOOTSTRAP_CLOUD
      - string:
          default: "ec2"
          description: "Provider to use when bootstrapping Juju"
          name: BOOTSTRAP_PROVIDER
      - string:
          default: "us-east-1"
          description: "Cloud Region to use when bootstrapping Juju"
          name: BOOTSTRAP_REGION
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - common
      - select-oci-registry
      - prepare-integration-test
      - conditional-step:
          # Only run on regexp version match.
          # Accounts for tests which do not exist
          # until a given Juju version.
          condition-kind: regex-match
          regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
          label: "${{JUJU_VERSION}}"
          on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                test_name: "authorized_keys"
                setup_steps: ""
                task_name: "test_migrate_authorized_keys"
                skip_tasks: "test_bootstrap_authorized_keys,test_machine_ssh,test_user_ssh_keys"
    publishers:
      - integration-artifacts

- job:
    name: test-authorized_keys-test-migrate-authorized-keys-azure
    node: ephemeral-noble-small-amd64
    concurrent: true
    description: |-
      Test test_migrate_authorized_keys in authorized_keys suite on azure
    parameters:
      - validating-string:
          name: SHORT_GIT_COMMIT
          description: "Enable sub job to be run individually."
          regex: ^\S{{7}}$
          msg: Enter a valid 7 char git sha
      - choice:
          default: "amd64"
          description: "Build arch used to download the build tar.gz."
          name: BUILD_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used to boostrap controller."
          name: BOOTSTRAP_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used for hosted models."
          name: MODEL_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - string:
          default: "azure"
          description: "Cloud to use when bootstrapping Juju"
          name: BOOTSTRAP_CLOUD
      - string:
          default: "azure"
          description: "Provider to use when bootstrapping Juju"
          name: BOOTSTRAP_PROVIDER
      - string:
          default: "eastus"
          description: "Cloud Region to use when bootstrapping Juju"
          name: BOOTSTRAP_REGION
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - common
      - select-oci-registry
      - prepare-integration-test
      - conditional-step:
          # Only run on regexp version match.
          # Accounts for tests which do not exist
          # until a given Juju version.
          condition-kind: regex-match
          regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
          label: "${{JUJU_VERSION}}"
          on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                test_name: "authorized_keys"
                setup_steps: ""
                task_name: "test_migrate_authorized_keys"
                skip_tasks: "test_bootstrap_authorized_keys,test_machine_ssh,test_user_ssh_keys"
    publishers:
      - integration-artifacts

- job:
    name: test-authorized_keys-test-migrate-authorized-keys-google
    node: ephemeral-noble-small-amd64
    concurrent: true
    description: |-
      Test test_migrate_authorized_keys in authorized_keys suite on google
    parameters:
      - validating-string:
          name: SHORT_GIT_COMMIT
          description: "Enable sub job to be run individually."
          regex: ^\S{{7}}$
          msg: Enter a valid 7 char git sha
      - choice:
          default: "amd64"
          description: "Build arch used to download the build tar.gz."
          name: BUILD_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used to boostrap controller."
          name: BOOTSTRAP_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used for hosted models."
          name: MODEL_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - string:
          default: "google"
          description: "Cloud to use when bootstrapping Juju"
          name: BOOTSTRAP_CLOUD
      - string:
          default: "gce"
          description: "Provider to use when bootstrapping Juju"
          name: BOOTSTRAP_PROVIDER
      - string:
          default: "us-east1"
          description: "Cloud Region to use when bootstrapping Juju"
          name: BOOTSTRAP_REGION
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - common
      - select-oci-registry
      - prepare-integration-test
      - conditional-step:
          # Only run on regexp version match.
          # Accounts for tests which do not exist
          # until a given Juju version.
          condition-kind: regex-match
          regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
          label: "${{JUJU_VERSION}}"
          on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                test_name: "authorized_keys"
                setup_steps: ""
                task_name: "test_migrate_authorized_keys"
                skip_tasks: "test_bootstrap_authorized_keys,test_machine_ssh,test_user_ssh_keys"
    publishers:
      - integration-artifacts

- job:
    name: test-authorized_keys-test-migrate-authorized-keys-lxd
    node: ephemeral-noble-8c-32g-amd64
    concurrent: true
    description: |-
      Test test_migrate_authorized_keys in authorized_keys suite on lxd
    parameters:
      - validating-string:
          name: SHORT_GIT_COMMIT
          description: "Enable sub job to be run individually."
          regex: ^\S{{7}}$
          msg: Enter a valid 7 char git sha
      - choice:
          default: "amd64"
          description: "Build arch used to download the build tar.gz."
          name: BUILD_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used to boostrap controller."
          name: BOOTSTRAP_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used for hosted models."
          name: MODEL_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - string:
          default: "localhost"
          description: "Cloud to use when bootstrapping Juju"
          name: BOOTSTRAP_CLOUD
      - string:
          default: "lxd"
          description: "Provider to use when bootstrapping Juju"
          name: BOOTSTRAP_PROVIDER
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - common
      - select-oci-registry
      - prepare-integration-test
      - conditional-step:
          # Only run on regexp version match.
          # Accounts for tests which do not exist
          # until a given Juju version.
          condition-kind: regex-match
          regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
          label: "${{JUJU_VERSION}}"
          on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                test_name: "authorized_keys"
                setup_steps: ""
                task_name: "test_migrate_authorized_keys"
                skip_tasks: "test_bootstrap_authorized_keys,test_machine_ssh,test_user_ssh_keys"
    publishers:
      - integration-artifacts

- job:
    name: test-authorized_keys-test-user-ssh-keys-aws
    node: ephemeral-noble-small-amd64
    concurrent: true
    description: |-
      Test test_user_ssh_keys in authorized_keys suite on aws
    parameters:
      - validating-string:
          name: SHORT_GIT_COMMIT
          description: "Enable sub job to be run individually."
          regex: ^\S{{7}}$
          msg: Enter a valid 7 char git sha
      - choice:
          default: "amd64"
          description: "Build arch used to download the build tar.gz."
          name: BUILD_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used to boostrap controller."
          name: BOOTSTRAP_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used for hosted models."
          name: MODEL_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - string:
          default: "aws"
          description: "Cloud to use when bootstrapping Juju"
          name: BOOTSTRAP_CLOUD
      - string:
          default: "ec2"
          description: "Provider to use when bootstrapping Juju"
          name: BOOTSTRAP_PROVIDER
      - string:
          default: "us-east-1"
          description: "Cloud Region to use when bootstrapping Juju"
          name: BOOTSTRAP_REGION
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - common
      - select-oci-registry
      - prepare-integration-test
      - conditional-step:
          # Only run on regexp version match.
          # Accounts for tests which do not exist
          # until a given Juju version.
          condition-kind: regex-match
          regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
          label: "${{JUJU_VERSION}}"
          on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                test_name: "authorized_keys"
                setup_steps: ""
                task_name: "test_user_ssh_keys"
                skip_tasks: "test_bootstrap_authorized_keys,test_machine_ssh,test_migrate_authorized_keys"
    publishers:
      - integration-artifacts

- job:
    name: test-authorized_keys-test-user-ssh-keys-azure
    node: ephemeral-noble-small-amd64
    concurrent: true
    description: |-
      Test test_user_ssh_keys in authorized_keys suite on azure
    parameters:
      - validating-string:
          name: SHORT_GIT_COMMIT
          description: "Enable sub job to be run individually."
          regex: ^\S{{7}}$
          msg: Enter a valid 7 char git sha
      - choice:
          default: "amd64"
          description: "Build arch used to download the build tar.gz."
          name: BUILD_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used to boostrap controller."
          name: BOOTSTRAP_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used for hosted models."
          name: MODEL_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - string:
          default: "azure"
          description: "Cloud to use when bootstrapping Juju"
          name: BOOTSTRAP_CLOUD
      - string:
          default: "azure"
          description: "Provider to use when bootstrapping Juju"
          name: BOOTSTRAP_PROVIDER
      - string:
          default: "eastus"
          description: "Cloud Region to use when bootstrapping Juju"
          name: BOOTSTRAP_REGION
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - common
      - select-oci-registry
      - prepare-integration-test
      - conditional-step:
          # Only run on regexp version match.
          # Accounts for tests which do not exist
          # until a given Juju version.
          condition-kind: regex-match
          regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
          label: "${{JUJU_VERSION}}"
          on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                test_name: "authorized_keys"
                setup_steps: ""
                task_name: "test_user_ssh_keys"
                skip_tasks: "test_bootstrap_authorized_keys,test_machine_ssh,test_migrate_authorized_keys"
    publishers:
      - integration-artifacts

- job:
    name: test-authorized_keys-test-user-ssh-keys-google
    node: ephemeral-noble-small-amd64
    concurrent: true
    description: |-
      Test test_user_ssh_keys in authorized_keys suite on google
    parameters:
      - validating-string:
          name: SHORT_GIT_COMMIT
          description: "Enable sub job to be run individually."
          regex: ^\S{{7}}$
          msg: Enter a valid 7 char git sha
      - choice:
          default: "amd64"
          description: "Build arch used to download the build tar.gz."
          name: BUILD_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used to boostrap controller."
          name: BOOTSTRAP_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used for hosted models."
          name: MODEL_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - string:
          default: "google"
          description: "Cloud to use when bootstrapping Juju"
          name: BOOTSTRAP_CLOUD
      - string:
          default: "gce"
          description: "Provider to use when bootstrapping Juju"
          name: BOOTSTRAP_PROVIDER
      - string:
          default: "us-east1"
          description: "Cloud Region to use when bootstrapping Juju"
          name: BOOTSTRAP_REGION
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - common
      - select-oci-registry
      - prepare-integration-test
      - conditional-step:
          # Only run on regexp version match.
          # Accounts for tests which do not exist
          # until a given Juju version.
          condition-kind: regex-match
          regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
          label: "${{JUJU_VERSION}}"
          on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                test_name: "authorized_keys"
                setup_steps: ""
                task_name: "test_user_ssh_keys"
                skip_tasks: "test_bootstrap_authorized_keys,test_machine_ssh,test_migrate_authorized_keys"
    publishers:
      - integration-artifacts

- job:
    name: test-authorized_keys-test-user-ssh-keys-lxd
    node: ephemeral-noble-8c-32g-amd64
    concurrent: true
    description: |-
      Test test_user_ssh_keys in authorized_keys suite on lxd
    parameters:
      - validating-string:
          name: SHORT_GIT_COMMIT
          description: "Enable sub job to be run individually."
          regex: ^\S{{7}}$
          msg: Enter a valid 7 char git sha
      - choice:
          default: "amd64"
          description: "Build arch used to download the build tar.gz."
          name: BUILD_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used to boostrap controller."
          name: BOOTSTRAP_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - choice:
          default: ""
          description: "Arch used for hosted models."
          name: MODEL_ARCH
          choices:
            - amd64
            - arm64
            - s390x
            - ppc64el
      - string:
          default: "localhost"
          description: "Cloud to use when bootstrapping Juju"
          name: BOOTSTRAP_CLOUD
      - string:
          default: "lxd"
          description: "Provider to use when bootstrapping Juju"
          name: BOOTSTRAP_PROVIDER
    wrappers:
      - default-integration-test-wrapper
      - timeout:
          timeout: 30
          fail: true
          type: absolute
    builders:
      - common
      - select-oci-registry
      - prepare-integration-test
      - conditional-step:
          # Only run on regexp version match.
          # Accounts for tests which do not exist
          # until a given Juju version.
          condition-kind: regex-match
          regex: "^[5-9].*|^4\\.([0-9]|\\d{{2,}})(\\.|-).*"
          label: "${{JUJU_VERSION}}"
          on-evaluation-failure: "dont-run"
          steps:
            - run-integration-test:
                test_name: "authorized_keys"
                setup_steps: ""
                task_name: "test_user_ssh_keys"
                skip_tasks: "test_bootstrap_authorized_keys,test_machine_ssh,test_migrate_authorized_keys"
    publishers:
      - integration-artifacts
